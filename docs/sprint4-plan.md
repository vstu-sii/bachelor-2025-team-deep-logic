# План Спринта 4 — AI Personal Chef

## 1. Введение
Цель Спринта 4 — вывести прототип до уровня MVP, достаточного для демонстрации: загрузка фото, распознавание ингредиентов, генерация рецептов и сохранение истории.  
Основной фокус — на стабильности, минимально необходимой функциональности и прозрачной документации.

---

## 2. Приоритизация задач

### Must-have (обязательно к реализации)
- **Backend API:** Реализовать базовые эндпоинты (аутентификация, рецепты, история).
- **Model Manager ↔ RabbitMQ:** Обеспечить получение/обработку задач из очереди.
- **VLM интеграция:** Подключить Ollama для распознавания ингредиентов с фото.
- **LLM интеграция:** Подключить Mistral API для генерации рецептов.
- **Хранение данных:** Сохранение пользователей и истории в PostgreSQL.
- **Документация:** Обновить OpenAPI/Swagger и README с запуском.

### Should-have (желательно)
- **Редактирование ингредиентов:** Возможность удаления/исключения перед генерацией.
- **Уведомления Android:** Отправка push через FCM по ключевым событиям.

### Could-have (если останется время)
- **UI/UX улучшения:** Базовая доработка интерфейса для удобства.
- **Интеграционные тесты:** Тесты ключевых сценариев (фото → рецепт → история).

---

## 3. Технический долг
- **Frontend/UI:** На стороне интерфейса пока отсутствует реализованный функционал, есть только планируемая структура.
- **ML-часть:** Представлена заготовками и базовыми скриптами, без полноценной интеграции в прототип.
- **Отзывы и оценки:** Функционал UC8 не реализован.
- **Нефункциональные требования:** Производительность/масштабируемость пока не проверялись.

---

## 4. Планирование улучшений
- **Ошибки и устойчивость:** Добавить обработку ошибок и таймауты для VLM/LLM.
- **Логирование:** Включить структурированное логирование для ключевых сервисов.
- **API прозрачность:** Уточнить контракты, схемы запросов/ответов в OpenAPI.
- **Минимальные тесты:** Покрыть базовые happy-path сценарии интеграционными тестами.
- **Dev UX:** Описать единообразный процесс запуска (docker-compose/env).

---

## 5. Roadmap до Demo Day
- **Неделя 1:** Backend API + PostgreSQL; минимальные эндпоинты; OpenAPI.
- **Неделя 2:** RabbitMQ + Model Manager; интеграция Ollama и Mistral; обработка ошибок.
- **Неделя 3:** Интеграционные тесты; фиксация багов; Android FCM.
- **Неделя 4:** Шлифовка UX; финальная документация; репетиция демо и freeze версии.

---

## 6. Критерии готовности (Definition of Done)
- **MVP сценарий:** Фото загружено → ингредиенты распознаны → рецепт сгенерирован → история сохранена.
- **Стабильность:** Обработаны ошибки внешних интеграций (VLM/LLM/FCM).
- **Документация:** Обновлённые C4-материалы, ADR, OpenAPI и инструкции запуска.
- **Демо:** Репозиторий готов к показу, reproducible запуск, стабильная версия зафиксирована.


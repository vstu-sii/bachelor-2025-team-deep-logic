# DoR/DoD критерии — AI Personal Chef

## 1. Definition of Ready (DoR) для задач
Задача считается готовой к разработке, если:
- Есть понятное описание (FR‑пункты сформулированы).  
- Понятен бизнес‑контекст (зачем нужна).  
- Определены входные данные и результат.  
- Есть критерии приёмки.  
- Нет блокирующих зависимостей или они явно указаны.  
- Есть оценка трудоёмкости.

### UC1 — Регистрация
- **Описание:** FR‑1…FR‑5 сформулированы.  
- **Бизнес‑контекст:** нужна для создания аккаунта и доступа к истории/избранному.  
- **Вход/результат:** email/пароль → созданный аккаунт.  
- **Критерии приёмки:** регистрация проходит, ошибки обрабатываются.  
- **Зависимости:** нет.  
- **Трудоёмкость:** низкая, выполнено.

### UC2 — Вход
- **Описание:** FR‑6…FR‑9 сформулированы.  
- **Бизнес‑контекст:** нужен для доступа к функционалу.  
- **Вход/результат:** email/пароль → авторизация.  
- **Критерии приёмки:** вход работает, ошибки обрабатываются.  
- **Зависимости:** нет.  
- **Трудоёмкость:** низкая, выполнено.

### UC3 — История
- **Описание:** FR‑10…FR‑12 сформулированы.  
- **Бизнес‑контекст:** нужна для просмотра приготовленных рецептов.  
- **Вход/результат:** действия пользователя → запись в истории.  
- **Критерии приёмки:** история отображается или сообщение «пусто».  
- **Зависимости:** частично зависит от пайплайна рецептов.  
- **Трудоёмкость:** средняя, выполнено.

### UC4 — Профиль
- **Описание:** FR‑13…FR‑16 сформулированы.  
- **Бизнес‑контекст:** позволяет учитывать предпочтения и ограничения.  
- **Вход/результат:** новые данные профиля → обновлённый профиль.  
- **Критерии приёмки:** изменения сохраняются и учитываются.  
- **Зависимости:** нет.  
- **Трудоёмкость:** средняя, выполнено.

### UC5 — Запрос рецептов
- **Описание:** FR‑17…FR‑21 сформулированы.  
- **Бизнес‑контекст:** позволяет получить рецепты по фото продуктов.  
- **Вход/результат:** фото → список ингредиентов.  
- **Критерии приёмки:** ингредиенты распознаются или сообщение об ошибке.  
- **Зависимости:** зависит от VLM.  
- **Трудоёмкость:** высокая, выполнено.

### UC6 — Исключение ингредиентов
- **Описание:** FR‑22 выполнен, FR‑23–25 не реализованы.  
- **Бизнес‑контекст:** повышает точность рецептов.  
- **Вход/результат:** список ингредиентов + исключения → обновлённый список рецептов.  
- **Критерии приёмки:** исключённые продукты не попадают в рецепты.  
- **Зависимости:** зависит от генерации рецептов.  
- **Трудоёмкость:** средняя, частично выполнено.

### UC7 — Выбор рецепта
- **Описание:** FR‑26–29 выполнены, FR‑30 не реализован.  
- **Бизнес‑контекст:** позволяет выбрать рецепт и получить план приготовления.  
- **Вход/результат:** выбранный рецепт → пошаговый план.  
- **Критерии приёмки:** рецепт отображается, можно вернуться к списку.  
- **Зависимости:** зависит от генерации списка рецептов.  
- **Трудоёмкость:** средняя, частично выполнено.

### UC8 — Отзывы
- **Описание:** FR‑31–35 не реализованы.  
- **Бизнес‑контекст:** нужны для обратной связи и улучшения рекомендаций.  
- **Вход/результат:** отзыв/оценка → сохранение в истории.  
- **Критерии приёмки:** отзыв сохраняется или сценарий завершается без сохранения.  
- **Зависимости:** зависит от истории и базы данных.  
- **Трудоёмкость:** высокая, не выполнено.

### UC9 — Избранное
- **Описание:** FR‑36–38 выполнены, FR‑39 не реализован.  
- **Бизнес‑контекст:** позволяет быстро вернуться к любимым рецептам.  
- **Вход/результат:** идентификатор рецепта → запись в избранном.  
- **Критерии приёмки:** рецепт добавляется в избранное, список доступен.  
- **Зависимости:** нет.  
- **Трудоёмкость:** средняя, частично выполнено.

---

## 2. Definition of Done (DoD) для функций
Функция считается завершённой, если:

- **Реализована в коде и доступна через UI (HTML/CSS/JS) или API (FastAPI).**  
  - UC1–UC2: регистрация и вход выполняются через форму на сайте.  
  - UC3: история отображается в личном кабинете.  
  - UC4: профиль можно редактировать и сохранять.  
  - UC5: загрузка фото и список распознанных ингредиентов доступны.  
  - UC6: исключение ингредиентов работает в интерфейсе.  
  - UC7: выбор рецепта и план приготовления отображаются.  
  - UC9: избранное доступно в личном кабинете.

- **Протестирована по критериям приёмки.**  
  Для каждого UC проверяется:  
  - корректные данные → успешный сценарий,  
  - некорректные данные → сообщение об ошибке.  
  Примеры:  
  - UC2: при неверном пароле система сообщает «Ошибка входа».  
  - UC5: при нераспознанном фото система просит загрузить новое.  
  - UC9: при добавлении рецепта в избранное он появляется в списке.

- **Данные сохраняются в SQLite.**  
  - UC1–UC2: аккаунты пользователей.  
  - UC3: история приготовленных рецептов.  
  - UC4: настройки профиля.  
  - UC9: список избранного.

- **Документация обновлена.**  
  - API описан в OpenAPI/Swagger.  
  - README содержит инструкции по запуску и проверке функций.

- **Нет критических багов, функция проходит интеграционный тест.**  
  Интеграционный тест — сквозной сценарий:  
  1. Пользователь регистрируется.  
  2. Загружает фото продуктов.  
  3. Получает список ингредиентов.  
  4. Исключает ненужные продукты.  
  5. Выбирает рецепт.  
  6. Рецепт сохраняется в истории и может быть добавлен в избранное.  
  Если весь путь работает без ошибок, функция считается завершённой.


---

## 3. Метрики успеха продукта
- Точность распознавания продуктов (VLM): ≥ 60%.  
- Среднее время ответа Backend API: ≤ 3 секунд.  
- Время распознавания фото: ≤ 3 минуты.  
- Время генерации рецептов: ≤ 30 секунд.  
- Удовлетворённость тестовых пользователей: ≥ 60%.  
- Количество тестировщиков: ≥ 4 человек.

---

## 4. KPI для каждого спринта
- **Спринт 4:** реализован сквозной сценарий (регистрация → фото → ингредиенты → рецепт → история → избранное).  
- **Спринт 5:** улучшение UX, интеграция уведомлений, доработка ошибок.  
- **Спринт 6:** реализация отзывов, расширенные метрики.  
- **Метрика:** успешная демонстрация MVP.

---

## 5. Итог
- UC1–UC5 полностью соответствуют DoR и DoD.  
- UC6, UC7, UC9 соответствуют DoR частично и не завершены по DoD.  
- UC8 не проходит DoR/DoD.  
Таким образом, команда закрыла базовые сценарии, а остальные находятся в стадии доработки.

# üìä –õ–æ–≥–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ Locust (30 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

## üìÇ –°—ã—Ä—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
**POST /test-vlm** ‚Äî –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (VLM).  
  - –í—Å–µ–≥–æ: 30 –∑–∞–ø—Ä–æ—Å–æ–≤  
  - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ~24 ms  
  - –ú–∏–Ω–∏–º—É–º: 10 ms  
  - –ú–∞–∫—Å–∏–º—É–º: 64 ms  
  - –û—à–∏–±–æ–∫: 0  

  **GET /task-result/{task_id}** ‚Äî –æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è.  
  - –°–æ—Ç–Ω–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π task_id (polling –¥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è `done`).  
  - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ~7‚Äì11 ms  
  - –ú–∏–Ω–∏–º—É–º: 1‚Äì5 ms  
  - –ú–∞–∫—Å–∏–º—É–º: 65 ms  
  - –û—à–∏–±–æ–∫: 0  

  **POST /cook-from-image/{task_id}** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ (LLM).  
  - –í—Å–µ–≥–æ: 30 –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∫–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ).  
  - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 5.6‚Äì12.0 —Å–µ–∫—É–Ω–¥  
  - –ú–∏–Ω–∏–º—É–º: ~5570 ms  
  - –ú–∞–∫—Å–∏–º—É–º: ~12000 ms  
  - –û—à–∏–±–æ–∫: 0  

### –°–≤–æ–¥–∫–∞ (Aggregated)
- **–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤:** 1752  
- **–û—à–∏–±–æ–∫:** 0  
- **–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞:** ~67 ms  
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞:** ~11560 ms  
- **–ú–µ–¥–∏–∞–Ω–∞:** 6 ms  
- **RPS:** 4.61  

---

## üìà –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –º–µ—Ç—Ä–∏–∫–∏

- **–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∏–∑–∫–∞—è (67 ms)** ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –±—ã–ª–∏ –±—ã—Å—Ç—Ä—ã–º–∏ GET /task-result.  
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –≤—ã—Å–æ–∫–∞—è (11.5 s)** ‚Äî –æ—Ç—Ä–∞–∂–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å cook-from-image, –≥–¥–µ LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ—Ü–µ–ø—Ç—ã.  
- **POST /test-vlm** ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π, –≤—Å–µ 30 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —É—Å–ø–µ—à–Ω–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –æ—á–µ—Ä–µ–¥—å.  
- **GET /task-result** ‚Äî –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, –Ω–æ –∏—Ö –æ—á–µ–Ω—å –º–Ω–æ–≥–æ; –∏–º–µ–Ω–Ω–æ –æ–Ω–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é –º–∞—Å—Å—É –∑–∞–ø—Ä–æ—Å–æ–≤ (1752).  
- **POST /cook-from-image** ‚Äî –≥–ª–∞–≤–Ω—ã–π bottleneck: –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–∏–º–∞–µ—Ç —Å–µ–∫—É–Ω–¥—ã, –ø—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–æ 30 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–æ—Å—Ç–∏–≥–∞—é—Ç 11‚Äì12 —Å–µ–∫—É–Ω–¥.

---

## üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º–µ

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç —Ñ–æ—Ç–æ ‚Üí **POST /test-vlm**.  
   - –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –æ—á–µ—Ä–µ–¥—å.

2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –æ–ø—Ä–∞—à–∏–≤–∞—é—Ç —Å—Ç–∞—Ç—É—Å ‚Üí **GET /task-result**.  
   - –û—Ç–≤–µ—Ç—ã –±—ã—Å—Ç—Ä—ã–µ, –Ω–æ —Å–æ–∑–¥–∞—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫.  
   - –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –Ω–∏–∑–∫—É—é —Å—Ä–µ–¥–Ω—é—é –∑–∞–¥–µ—Ä–∂–∫—É –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ –∑–∞–ø—Ä–æ—Å–æ–≤.

3. –ü–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ VLM ‚Üí **POST /cook-from-image**.  
   - –ó–¥–µ—Å—å —Å–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞—Ç–∏—Ç 6‚Äì12 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ä–µ—Ü–µ–ø—Ç–æ–≤.  
   - –ò–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —à–∞–≥ –æ—Å—Ç–∞—ë—Ç—Å—è —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º.

---

## üéØ –í—ã–≤–æ–¥—ã

- **–ì–ª–∞–≤–Ω—ã–π bottleneck:** `POST /cook-from-image` (LLM –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤).  
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–∫—Ç–æ—Ä –Ω–∞–≥—Ä—É–∑–∫–∏:** —á–∞—Å—Ç—ã–µ `GET /task-result` (polling), –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –ª–∏—à–Ω—é—é –Ω–∞–≥—Ä—É–∑–∫—É.  
- **–°–∏—Å—Ç–µ–º–∞ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 30 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω—ã, —Ä–µ—Ü–µ–ø—Ç—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã, –æ—à–∏–±–æ–∫ –Ω–µ—Ç.  
- **–ü—Ä–æ–±–ª–µ–º–∞:** –∑–∞–¥–µ—Ä–∂–∫–∏ cook –æ—Å—Ç–∞—é—Ç—Å—è –≤—ã—Å–æ–∫–∏–º–∏ (–¥–æ 12 —Å–µ–∫—É–Ω–¥), —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üõ†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å –≤–æ—Ä–∫–µ—Ä–∞ (MAX_CONCURRENT_TASKS > 3).  
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å cook-from-image (—Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –æ—Ç–≤–µ—Ç–∞, –ø–æ—Å—Ç–≤–∞–ª–∏–¥–∞—Ü–∏—è).  
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π ramp‚Äëup –Ω–∞–≥—Ä—É–∑–∫–∏ (5 ‚Üí 10 ‚Üí 20 ‚Üí 30 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–∏–∫–æ–≤—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫.  
